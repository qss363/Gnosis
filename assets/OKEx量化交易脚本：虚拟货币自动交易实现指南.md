# OKEx量化交易脚本：虚拟货币自动交易实现指南

## 自动交易系统开发概述

本项目是基于OKEx API开发的自动化交易系统，专为BTC、ETH等虚拟货币设计。当前版本处于开发初期，建议用户在充分理解运作机制后再投入实际使用。

**核心优势**：
- 支持币币交易自动化
- 动态价格调整策略
- 多平台交易通知系统
- 安全交易保障机制

👉 [获取加密货币交易指南](https://bit.ly/okx_welcome)

## 技术实现基础

### 开发环境准备
1. 安装Node.js运行环境（包含NPM）
2. 克隆项目源码至本地
3. 安装依赖库：`npm i`

### 系统架构解析
- API交互层：处理OKEx接口通信
- 策略引擎：执行交易逻辑判断
- 通知模块：多通道消息推送
- 安全控制：交易验证与风险防护

## 配置操作指南

### 基础参数设置
```env
passphrase = "your_passphrase"
apiKey = "your_apiKey"
secretKey = "your_secretKey"
```

**API权限配置要求**：
| 权限项 | 必须启用 | 说明 |
|-------|---------|------|
| 交易权限 | ✅ | 核心功能所需 |
| 提现权限 | ❌ | 禁止勾选 |
| 账户信息权限 | ✅ | 市值监控所需 |

👉 [获取API配置教程](https://bit.ly/okx_welcome)

### 代理服务器配置
```env
http_proxy = "http://127.0.0.1:7892"
```

> **重要提示**：中国大陆用户需配置海外IP代理服务器，建议使用Clash等工具获取稳定连接。

## 策略配置详解

### 核心参数说明
```json
{
  "symbol": "ETH",           // 交易币种
  "basePrice": 1950,         // 基准价格
  "amounts": [0.001, 0.002, 0.003], // 交易数量梯度
  "allow24hFluctuationRatio": 0.05, // 24小时波动容忍度
  "baseDecreaseRatio": 0.02, // 跌幅触发阈值
  "baseIncreaseRatio": 0.02, // 涨幅触发阈值
  "dynamicNextPrice": true,  // 动态价格调整
  "maxStep": 10,             // 最大交易层级
  "safeSellAmount": false    // 安全卖出模式
}
```

### 参数优化建议
| 参数 | 初学者推荐值 | 进阶用户调整方向 |
|------|------------|----------------|
| baseDecreaseRatio | 0.02-0.05 | 低波动市场可设至0.1 |
| baseIncreaseRatio | 0.02-0.05 | 高波动市场建议0.05+ |
| amounts | 0.001-0.01 BTC | 根据账户资金量调整 |

👉 [获取策略优化方案](https://bit.ly/okx_welcome)

## 风险控制机制

### 安全防护体系
- 交易验证：确保先买入后卖出
- 冷却机制：33秒下单间隔防误操作
- 余额监控：实时检测可用资金
- 价格校准：动态修正基准价格

### 常见风险应对
| 风险类型 | 应对策略 |
|---------|----------|
| 市场剧烈波动 | 调整波动容忍度参数 |
| 网络延迟 | 启用备用代理节点 |
| API限速 | 优化请求频率控制 |
| 手续费消耗 | 启用安全卖出模式 |

## 通知系统配置

### 钉钉通知设置
1. 创建群机器人
2. 获取Webhook地址
3. 配置消息模板

### Telegram通知设置
```env
telegram_bot_token = "your_bot_token"
telegram_bot_chat_id = "your_chat_id"
```

> **通知内容示例**：
```
[买入完成] ETH@1945 USDT
数量：0.002 BTC
预计收益：3.89 USDT
```

## 使用注意事项

### 初期测试建议
- 初始资金：建议不超过总资产的10%
- 观察周期：至少3个完整交易周期
- 参数调整：每次只修改1-2个参数
- 监控频率：每日检查交易日志

### 盈利保障机制
- 最小盈利保障：minProfitUSDT参数设置
- 手续费计算：精确到小数点后四位
- 动态调整：根据市场深度优化报价

## 常见问题解答（FAQ）

**Q1：脚本运行需要什么硬件配置？**  
A：推荐配置：4核CPU/8GB内存/10GB存储，云服务器更佳

**Q2：如何判断基准价格设置是否合理？**  
A：建议初始值设为最近30日均线价，观察5个交易日后调整

**Q3：交易层级超过最大值怎么办？**  
A：说明当前波动超出预期，建议检查市场行情并重置策略

**Q4：如何避免高频交易触发风控？**  
A：利用内置冷却机制，合理设置波动触发阈值

**Q5：支持多币种同时交易吗？**  
A：当前版本单实例仅支持单一币种，可部署多实例管理

## 协议与声明

### 使用许可
- 个人使用：遵循GNU GPL 3.0协议
- 商业应用：需联系作者获取授权

### 风险提示
本系统本质是程序化交易工具，不构成任何投资建议。自动交易存在市场、技术、操作等多重风险，使用前请充分评估自身风险承受能力。

> **免责声明**：  
本项目作者不对任何因使用本软件造成的资金损失负责，用户需自行承担所有交易风险。建议先用模拟账户测试后再进行实盘交易。

## 开发者支持

### 捐赠渠道
如项目对您有帮助，可通过以下方式支持开发者：
- 加密货币捐赠地址（需自行配置）
- GitHub赞助计划
- 技术咨询付费

### 技术文档
完整开发文档与API参考手册持续更新中，包含：
- 模块架构说明
- 接口调用规范
- 错误代码解析